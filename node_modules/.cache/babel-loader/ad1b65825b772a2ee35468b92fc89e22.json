{"ast":null,"code":"import _slicedToArray from\"/Users/max/Desktop/Programing/JavaScript/GitHub/testDeploy/test-deploy-messenger-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./InputMessageComponent.scss';import sendImg from'../../../../images/send.png';import{useState}from\"react\";import{nanoid}from\"nanoid\";import{useHttp}from\"../../../../hooks/http.hook\";import moment from\"moment-timezone\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InputMessageComponent=function InputMessageComponent(_ref){var messages=_ref.messages,updateMesseges=_ref.updateMesseges,updateGetMessages=_ref.updateGetMessages;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var _useHttp=useHttp(),request=_useHttp.request;var handleChange=function handleChange(e){setInputValue(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();var newMessage={messageId:nanoid(),date:Number(moment().tz(\"Europe/Istanbul\").format('x')),text:inputValue,isRead:true,isIncoming:false};sendMessage(newMessage);setInputValue('');setTimeout(function(){request(\"https://api.chucknorris.io/jokes/random\").then(function(data){getMessage(data.value,newMessage);});},10000);};var sendMessage=function sendMessage(message){updateMesseges(message);};var getMessage=function getMessage(textValue,newMessage){var newGetMessage={messageId:nanoid(),date:Number(moment().tz(\"Europe/Istanbul\").format('x')),text:textValue,isRead:true,isIncoming:true};updateGetMessages(newMessage,newGetMessage);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:'inputMessageComponent',children:[/*#__PURE__*/_jsx(\"input\",{placeholder:'Write new message..',type:\"text\",value:inputValue,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{disabled:!inputValue,type:\"submit\",value:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\",children:/*#__PURE__*/_jsx(\"img\",{src:sendImg})})]})})});};export default InputMessageComponent;","map":{"version":3,"names":["sendImg","useState","nanoid","useHttp","moment","InputMessageComponent","messages","updateMesseges","updateGetMessages","inputValue","setInputValue","request","handleChange","e","target","value","handleSubmit","preventDefault","newMessage","messageId","date","Number","tz","format","text","isRead","isIncoming","sendMessage","setTimeout","then","data","getMessage","message","textValue","newGetMessage"],"sources":["/Users/max/Desktop/Programing/JavaScript/GitHub/testDeploy/test-deploy-messenger-app/src/Components/AppComponent/DialogWindowComponent/InputMessageComponent/InputMessageComponent.jsx"],"sourcesContent":["import './InputMessageComponent.scss'\nimport sendImg from '../../../../images/send.png'\nimport {useState} from \"react\";\nimport {nanoid} from \"nanoid\";\nimport {useHttp} from \"../../../../hooks/http.hook\";\nimport moment from \"moment-timezone\";\n\n\nconst InputMessageComponent = ({messages, updateMesseges, updateGetMessages}) => {\n    const [inputValue, setInputValue] = useState('');\n    const {request} = useHttp();\n\n    const handleChange = (e) => {\n        setInputValue(e.target.value)\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const newMessage = {\n            messageId: nanoid(),\n            date: Number(moment().tz(\"Europe/Istanbul\").format('x')),\n            text: inputValue,\n            isRead: true,\n            isIncoming: false\n        }\n        sendMessage(newMessage);\n        setInputValue('');\n        setTimeout(() => {\n            request(\"https://api.chucknorris.io/jokes/random\")\n                .then(data => {\n                    getMessage(data.value, newMessage)\n                })\n        }, 10000);\n\n    }\n    const sendMessage = (message) => {\n        updateMesseges(message);\n    }\n\n    const getMessage = (textValue, newMessage) => {\n        const newGetMessage = {\n            messageId: nanoid(),\n            date: Number(moment().tz(\"Europe/Istanbul\").format('x')),\n            text: textValue,\n            isRead: true,\n            isIncoming: true\n        }\n        updateGetMessages(newMessage, newGetMessage)\n    }\n    return (\n        <div>\n            <form onSubmit={handleSubmit}>\n                <div className={'inputMessageComponent'}>\n                    <input placeholder={'Write new message..'} type=\"text\" value={inputValue} onChange={handleChange}/>\n                    <button disabled={!inputValue} type=\"submit\" value=\"Отправить\"><img src={sendImg}/></button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default InputMessageComponent;"],"mappings":"0KAAA,MAAO,8BAAP,CACA,MAAOA,QAAP,KAAoB,6BAApB,CACA,OAAQC,QAAR,KAAuB,OAAvB,CACA,OAAQC,MAAR,KAAqB,QAArB,CACA,OAAQC,OAAR,KAAsB,6BAAtB,CACA,MAAOC,OAAP,KAAmB,iBAAnB,C,wFAGA,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,MAAmD,IAAjDC,SAAiD,MAAjDA,QAAiD,CAAvCC,cAAuC,MAAvCA,cAAuC,CAAvBC,iBAAuB,MAAvBA,iBAAuB,CAC7E,cAAoCP,QAAQ,CAAC,EAAD,CAA5C,wCAAOQ,UAAP,eAAmBC,aAAnB,eACA,aAAkBP,OAAO,EAAzB,CAAOQ,OAAP,UAAOA,OAAP,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CACxBH,aAAa,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,CACH,CAFD,CAIA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACH,CAAD,CAAO,CACxBA,CAAC,CAACI,cAAF,GACA,GAAMC,WAAU,CAAG,CACfC,SAAS,CAAEjB,MAAM,EADF,CAEfkB,IAAI,CAAEC,MAAM,CAACjB,MAAM,GAAGkB,EAAT,CAAY,iBAAZ,EAA+BC,MAA/B,CAAsC,GAAtC,CAAD,CAFG,CAGfC,IAAI,CAAEf,UAHS,CAIfgB,MAAM,CAAE,IAJO,CAKfC,UAAU,CAAE,KALG,CAAnB,CAOAC,WAAW,CAACT,UAAD,CAAX,CACAR,aAAa,CAAC,EAAD,CAAb,CACAkB,UAAU,CAAC,UAAM,CACbjB,OAAO,CAAC,yCAAD,CAAP,CACKkB,IADL,CACU,SAAAC,IAAI,CAAI,CACVC,UAAU,CAACD,IAAI,CAACf,KAAN,CAAaG,UAAb,CAAV,CACH,CAHL,EAIH,CALS,CAKP,KALO,CAAV,CAOH,CAlBD,CAmBA,GAAMS,YAAW,CAAG,QAAdA,YAAc,CAACK,OAAD,CAAa,CAC7BzB,cAAc,CAACyB,OAAD,CAAd,CACH,CAFD,CAIA,GAAMD,WAAU,CAAG,QAAbA,WAAa,CAACE,SAAD,CAAYf,UAAZ,CAA2B,CAC1C,GAAMgB,cAAa,CAAG,CAClBf,SAAS,CAAEjB,MAAM,EADC,CAElBkB,IAAI,CAAEC,MAAM,CAACjB,MAAM,GAAGkB,EAAT,CAAY,iBAAZ,EAA+BC,MAA/B,CAAsC,GAAtC,CAAD,CAFM,CAGlBC,IAAI,CAAES,SAHY,CAIlBR,MAAM,CAAE,IAJU,CAKlBC,UAAU,CAAE,IALM,CAAtB,CAOAlB,iBAAiB,CAACU,UAAD,CAAagB,aAAb,CAAjB,CACH,CATD,CAUA,mBACI,kCACI,aAAM,QAAQ,CAAElB,YAAhB,uBACI,aAAK,SAAS,CAAE,uBAAhB,wBACI,cAAO,WAAW,CAAE,qBAApB,CAA2C,IAAI,CAAC,MAAhD,CAAuD,KAAK,CAAEP,UAA9D,CAA0E,QAAQ,CAAEG,YAApF,EADJ,cAEI,eAAQ,QAAQ,CAAE,CAACH,UAAnB,CAA+B,IAAI,CAAC,QAApC,CAA6C,KAAK,CAAC,wDAAnD,uBAA+D,YAAK,GAAG,CAAET,OAAV,EAA/D,EAFJ,GADJ,EADJ,EADJ,CAUH,CAnDD,CAqDA,cAAeK,sBAAf"},"metadata":{},"sourceType":"module"}