{"ast":null,"code":"import _regeneratorRuntime from\"/Users/max/Desktop/Programing/JavaScript/GitHub/testDeploy/test-deploy-messenger-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/max/Desktop/Programing/JavaScript/GitHub/testDeploy/test-deploy-messenger-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useCallback}from\"react\";export var useHttp=function useHttp(){var request=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url){var method,body,headers,response,data,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:method=_args.length>1&&_args[1]!==undefined?_args[1]:'GET';body=_args.length>2&&_args[2]!==undefined?_args[2]:null;headers=_args.length>3&&_args[3]!==undefined?_args[3]:{'Content-Type':'application/json'};_context.prev=3;_context.next=6;return fetch(url,{method:method,body:body,headers:headers});case 6:response=_context.sent;if(response.ok){_context.next=9;break;}throw new Error(\"Could not fetch \".concat(url,\", status: \").concat(response.status));case 9:_context.next=11;return response.json();case 11:data=_context.sent;return _context.abrupt(\"return\",data);case 15:_context.prev=15;_context.t0=_context[\"catch\"](3);throw _context.t0;case 18:case\"end\":return _context.stop();}}},_callee,null,[[3,15]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[]);return{request:request};};","map":{"version":3,"names":["useCallback","useHttp","request","url","method","body","headers","fetch","response","ok","Error","status","json","data"],"sources":["/Users/max/Desktop/Programing/JavaScript/GitHub/testDeploy/test-deploy-messenger-app/src/hooks/http.hook.js"],"sourcesContent":["import { useCallback } from \"react\";\n\nexport const useHttp = () => {\n\n    const request = useCallback(async (url, method = 'GET', body = null, headers = {'Content-Type': 'application/json'}) => {\n        try {\n            const response = await fetch(url, {method, body, headers});\n\n            if (!response.ok) {\n                throw new Error(`Could not fetch ${url}, status: ${response.status}`);\n            }\n\n            const data = await response.json();\n\n            return data;\n        } catch(e) {\n            throw e;\n        }\n    }, []);\n    return {request}\n}"],"mappings":"oWAAA,OAASA,WAAT,KAA4B,OAA5B,CAEA,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAEzB,GAAMC,QAAO,CAAGF,WAAW,4FAAC,iBAAOG,GAAP,0KAAYC,MAAZ,+CAAqB,KAArB,CAA4BC,IAA5B,+CAAmC,IAAnC,CAAyCC,OAAzC,+CAAmD,CAAC,eAAgB,kBAAjB,CAAnD,uCAEGC,MAAK,CAACJ,GAAD,CAAM,CAACC,MAAM,CAANA,MAAD,CAASC,IAAI,CAAJA,IAAT,CAAeC,OAAO,CAAPA,OAAf,CAAN,CAFR,QAEdE,QAFc,kBAIfA,QAAQ,CAACC,EAJM,8BAKV,IAAIC,MAAJ,2BAA6BP,GAA7B,sBAA6CK,QAAQ,CAACG,MAAtD,EALU,+BAQDH,SAAQ,CAACI,IAAT,EARC,SAQdC,IARc,+CAUbA,IAVa,mJAAD,+DAcxB,EAdwB,CAA3B,CAeA,MAAO,CAACX,OAAO,CAAPA,OAAD,CAAP,CACH,CAlBM"},"metadata":{},"sourceType":"module"}