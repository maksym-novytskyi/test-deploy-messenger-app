{"ast":null,"code":"import MessageItemComponent from\"./MassageItemComponent/MessageItemComponent\";import InputMessageComponent from\"./InputMessageComponent/InputMessageComponent\";import onlineStatusImg from'./../../../images/onlineStatus.png';import moment from'moment-timezone';import'./DialogWindowComponent.scss';import{useEffect,useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DialogWindowComponent=function DialogWindowComponent(props){var _props$userActive=props.userActive,userName=_props$userActive.userName,isOnline=_props$userActive.isOnline,img=_props$userActive.img;var messages=props.messages,updateMesseges=props.updateMesseges,updateGetMessages=props.updateGetMessages;var bodyMessages=useRef(null);var scroll=function scroll(){bodyMessages.current.scrollIntoView({behavior:\"smooth\"});};useEffect(function(){scroll();});var messagesElements=messages.map(function(m,i){var formatDate=function formatDate(mss){var timeMessage=moment(mss).format(\"M/DD/YYYY, H:mm A\");return{timeMessage:timeMessage};};var _formatDate=formatDate(m.date),timeMessage=_formatDate.timeMessage;return/*#__PURE__*/_jsx(MessageItemComponent,{date:m.date,time:timeMessage,messageText:m.text,userImg:img,incomingStatus:m.isIncoming},i);});return/*#__PURE__*/_jsxs(\"div\",{className:'dialogWindow',children:[/*#__PURE__*/_jsxs(\"div\",{className:'dialogWindow__header',children:[/*#__PURE__*/_jsxs(\"div\",{className:'dialogWindow__header-companionAvatar',children:[/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"picture\"}),isOnline?/*#__PURE__*/_jsx(\"img\",{className:'online',src:onlineStatusImg,alt:\"online\"}):null]}),/*#__PURE__*/_jsx(\"div\",{className:'dialogWindow__header-companionName',children:userName})]}),/*#__PURE__*/_jsxs(\"div\",{className:'dialogWindow__body',children:[/*#__PURE__*/_jsx(\"div\",{children:messagesElements}),/*#__PURE__*/_jsx(\"div\",{ref:bodyMessages})]}),/*#__PURE__*/_jsx(\"div\",{className:'dialogWindow__footer',children:/*#__PURE__*/_jsx(InputMessageComponent,{updateMesseges:updateMesseges,updateGetMessages:updateGetMessages,messages:messages})})]});};export default DialogWindowComponent;","map":{"version":3,"names":["MessageItemComponent","InputMessageComponent","onlineStatusImg","moment","useEffect","useRef","DialogWindowComponent","props","userActive","userName","isOnline","img","messages","updateMesseges","updateGetMessages","bodyMessages","scroll","current","scrollIntoView","behavior","messagesElements","map","m","i","formatDate","mss","timeMessage","format","date","text","isIncoming"],"sources":["/Users/max/Desktop/Programing/JavaScript/GitHub/testDeploy/test-deploy-messenger-app/src/Components/AppComponent/DialogWindowComponent/DialogWindowComponent.jsx"],"sourcesContent":["import MessageItemComponent from \"./MassageItemComponent/MessageItemComponent\";\nimport InputMessageComponent from \"./InputMessageComponent/InputMessageComponent\";\nimport onlineStatusImg from './../../../images/onlineStatus.png'\nimport moment from 'moment-timezone'\n\nimport './DialogWindowComponent.scss'\nimport {useEffect, useRef} from \"react\";\n\nconst DialogWindowComponent = (props) => {\n    const {userName, isOnline, img} = props.userActive;\n    const {messages, updateMesseges, updateGetMessages} = props;\n    const bodyMessages = useRef(null);\n    const scroll = () => {\n    bodyMessages.current.scrollIntoView({behavior: \"smooth\"} );\n    }\n    useEffect(() => {\n        scroll();\n    })\n    const messagesElements = messages.map((m, i) => {\n        const formatDate = (mss) => {\n            const timeMessage = moment(mss).format(\"M/DD/YYYY, H:mm A\");\n            return {timeMessage}\n        }\n        const  {timeMessage} = formatDate(m.date)\n        return <MessageItemComponent key={i}\n                                     date={m.date}\n                                     time={timeMessage}\n                                     messageText={m.text}\n                                     userImg={img}\n                                     incomingStatus={m.isIncoming}/>\n    })\n    return (\n        <div className={'dialogWindow'}>\n            <div className={'dialogWindow__header'}>\n                <div className={'dialogWindow__header-companionAvatar'}>\n                    <img src={img} alt=\"picture\"/>\n                    {isOnline ? <img className={'online'} src={onlineStatusImg} alt=\"online\"/> : null}\n                </div>\n                <div className={'dialogWindow__header-companionName'}>\n                    {userName}\n                </div>\n            </div>\n            <div className={'dialogWindow__body'}>\n                <div>{messagesElements}</div>\n                <div ref={bodyMessages}></div>\n            </div>\n            <div className={'dialogWindow__footer'}>\n                <InputMessageComponent updateMesseges={updateMesseges} updateGetMessages={updateGetMessages} messages={messages}/>\n            </div>\n        </div>\n    )\n}\n\nexport default DialogWindowComponent;"],"mappings":"AAAA,MAAOA,qBAAP,KAAiC,6CAAjC,CACA,MAAOC,sBAAP,KAAkC,+CAAlC,CACA,MAAOC,gBAAP,KAA4B,oCAA5B,CACA,MAAOC,OAAP,KAAmB,iBAAnB,CAEA,MAAO,8BAAP,CACA,OAAQC,SAAR,CAAmBC,MAAnB,KAAgC,OAAhC,C,wFAEA,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,CAACC,KAAD,CAAW,CACrC,sBAAkCA,KAAK,CAACC,UAAxC,CAAOC,QAAP,mBAAOA,QAAP,CAAiBC,QAAjB,mBAAiBA,QAAjB,CAA2BC,GAA3B,mBAA2BA,GAA3B,CACA,GAAOC,SAAP,CAAsDL,KAAtD,CAAOK,QAAP,CAAiBC,cAAjB,CAAsDN,KAAtD,CAAiBM,cAAjB,CAAiCC,iBAAjC,CAAsDP,KAAtD,CAAiCO,iBAAjC,CACA,GAAMC,aAAY,CAAGV,MAAM,CAAC,IAAD,CAA3B,CACA,GAAMW,OAAM,CAAG,QAATA,OAAS,EAAM,CACrBD,YAAY,CAACE,OAAb,CAAqBC,cAArB,CAAoC,CAACC,QAAQ,CAAE,QAAX,CAApC,EACC,CAFD,CAGAf,SAAS,CAAC,UAAM,CACZY,MAAM,GACT,CAFQ,CAAT,CAGA,GAAMI,iBAAgB,CAAGR,QAAQ,CAACS,GAAT,CAAa,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAC5C,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,GAAD,CAAS,CACxB,GAAMC,YAAW,CAAGvB,MAAM,CAACsB,GAAD,CAAN,CAAYE,MAAZ,CAAmB,mBAAnB,CAApB,CACA,MAAO,CAACD,WAAW,CAAXA,WAAD,CAAP,CACH,CAHD,CAIA,gBAAuBF,UAAU,CAACF,CAAC,CAACM,IAAH,CAAjC,CAAQF,WAAR,aAAQA,WAAR,CACA,mBAAO,KAAC,oBAAD,EACsB,IAAI,CAAEJ,CAAC,CAACM,IAD9B,CAEsB,IAAI,CAAEF,WAF5B,CAGsB,WAAW,CAAEJ,CAAC,CAACO,IAHrC,CAIsB,OAAO,CAAElB,GAJ/B,CAKsB,cAAc,CAAEW,CAAC,CAACQ,UALxC,EAA2BP,CAA3B,CAAP,CAMH,CAZwB,CAAzB,CAaA,mBACI,aAAK,SAAS,CAAE,cAAhB,wBACI,aAAK,SAAS,CAAE,sBAAhB,wBACI,aAAK,SAAS,CAAE,sCAAhB,wBACI,YAAK,GAAG,CAAEZ,GAAV,CAAe,GAAG,CAAC,SAAnB,EADJ,CAEKD,QAAQ,cAAG,YAAK,SAAS,CAAE,QAAhB,CAA0B,GAAG,CAAER,eAA/B,CAAgD,GAAG,CAAC,QAApD,EAAH,CAAoE,IAFjF,GADJ,cAKI,YAAK,SAAS,CAAE,oCAAhB,UACKO,QADL,EALJ,GADJ,cAUI,aAAK,SAAS,CAAE,oBAAhB,wBACI,qBAAMW,gBAAN,EADJ,cAEI,YAAK,GAAG,CAAEL,YAAV,EAFJ,GAVJ,cAcI,YAAK,SAAS,CAAE,sBAAhB,uBACI,KAAC,qBAAD,EAAuB,cAAc,CAAEF,cAAvC,CAAuD,iBAAiB,CAAEC,iBAA1E,CAA6F,QAAQ,CAAEF,QAAvG,EADJ,EAdJ,GADJ,CAoBH,CA3CD,CA6CA,cAAeN,sBAAf"},"metadata":{},"sourceType":"module"}